traefik:
  instanceLabelOverride: traefik

  deployment:
    replicas: 3

  ingressClass:
    enabled: true
    isDefaultClass: true

  service:
    annotations:
      io.cilium/lb-ipam-ips: 10.0.3.1

    spec:
      # Use a local traffic policy so we can get the users origin ip
      externalTrafficPolicy: Local

  providers:
    kubernetesCRD:
      enabled: true
      # Allow IngressRoutes to reference resources in other namespaces
      allowCrossNamespace: true

    kubernetesIngress:
      enabled: true

      publishedService:
        # -- This is used to determine resource health
        enabled: true

  metrics:
    # Enable prometheus metrics
    prometheus: {}
