{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended",
    "config:best-practices"
  ],
  "customManagers": [
    {
      "customType": "regex",
      "managerFilePatterns": ["/Chart\\.ya?ml$/"],
      "matchStrings": [
        "#\\s*renovate:\\s*datasource=(?<datasource>\\S+)\\s+depName=(?<depName>\\S+)(?:\\s+packageName=(?<packageName>\\S+))?(?:\\s+versioning=(?<versioning>\\S+))?.*?\\n\\s*appVersion:\\s*[\"']?(?<currentValue>[^\\s\"']+)[\"']?"
      ]
    },
    {
      "customType": "regex",
      "managerFilePatterns": ["/Chart\\.ya?ml$/"],
      "matchStrings": [
        "appVersion:\\s*[\"']?(?<currentValue>[^\\s\"']+)[\"']?\\s*#\\s*renovate:\\s*datasource=(?<datasource>\\S+)\\s+depName=(?<depName>\\S+)(?:\\s+packageName=(?<packageName>\\S+))?(?:\\s+versioning=(?<versioning>\\S+))?"
      ]
    }
  ],
  "packageRules": [
    {
      "matchPackageNames": ["traefik"],
      "matchDatasources": ["helm"],
      "allowedVersions": "< 28.0.0"
    },
    {
      "matchManagers": ["helm-values"],
      "pinDigests": false
    }
  ],
  "ignorePaths": [
    "renovate/**",
    "kustomize/**"
  ]
}
